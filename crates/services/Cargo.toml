[package]
name = "ag-service-registry"
version = "0.1.0"
edition = "2021"
license = "MIT"
description = "Service registry and dependency injection for ag-thread multi-environment deployment."

[dependencies]
ag-service-types = { path = "../ag-types" }
ag-core = { path = "../ag-core" }
async-trait = "0.1.88"
serde.workspace = true
serde_json.workspace = true
serde_yaml = "0.9.34"
thiserror = "2.0.12"
tokio = { version = "1.46.1", features = ["full"], optional = true }
ignore.workspace = true
uuid = { version = "1.17.0", features = ["v4"] }
crossterm = { version = "0.29", optional = true }

# Tree-sitter language parsers for testing
tree-sitter-typescript = { version = "0.23.2", optional = true }
tree-sitter-rust = { version = "0.24", optional = true }

[dev-dependencies]
tokio-test = "0.4.4"
futures = "0.3.31"

[features]
default = []
tokio-runtime = ["dep:tokio"]
tower = ["dep:tower"]

[dependencies.tower]
version = "0.5.2"
optional = true
features = ["util", "timeout", "limit", "load-shed", "buffer"]
